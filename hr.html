<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>الموارد البشرية</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
.watermark {
  position: fixed;
  left: 50%;
  transform: translateX(-50%) rotate(-25deg);
  font-size: 42px;
  color: rgba(0,0,0,0.18);
  pointer-events: none;
  z-index: 9999;
  text-align: center;
  white-space: pre-line;
}

#watermark-top { top: 25%; }
#watermark-bottom { top: 65%; }

.viewer {
  max-width: 800px;
  margin: auto;
  padding: 20px;
}

.viewer img {
  width: 100%;
  margin-bottom: 20px;
  user-select: none;
}

.choice-box {
  text-align: center;
  margin-top: 60px;
}

.choice-box button {
  padding: 15px 25px;
  font-size: 18px;
  margin: 15px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

.no-ans { background: #1976d2; color: #fff; }
.with-ans { background: #2e7d32; color: #fff; }
</style>
</head>

<body>

<!-- اختيار -->
<div class="choice-box" id="choices">
  <h2>اختر طريقة عرض المادة</h2>
  <button class="no-ans" onclick="loadMaterial('hr')">
    بدون إجابات
  </button>
  <button class="with-ans" onclick="loadMaterial('hr-ans')">
    بالإجابات
  </button>
</div>

<!-- Watermark -->
<div id="watermark-top" class="watermark"></div>
<div id="watermark-bottom" class="watermark"></div>

<div id="viewer" class="viewer" style="display:none"></div>

<script>
/* حماية */
document.addEventListener("contextmenu", e => e.preventDefault());
document.addEventListener("selectstart", e => e.preventDefault());
document.addEventListener("keydown", e => {
  if (e.ctrlKey && ['c','s','p','u'].includes(e.key.toLowerCase())) {
    e.preventDefault();
  }
});

/* تحقق من الدخول */
const student = sessionStorage.getItem("studentName");
if (!student) location.href = "login.html";

/* watermark */
const text = "خاص بالطالب\n" + student;
document.getElementById("watermark-top").innerText = text;
document.getElementById("watermark-bottom").innerText = text;

/* تحميل الصور */
function loadMaterial(prefix) {
  document.getElementById("choices").style.display = "none";
  const viewer = document.getElementById("viewer");
  viewer.style.display = "block";

  const totalPages = 39;

  for (let i = 1; i <= totalPages; i++) {
    const img = document.createElement("img");
    const num = String(i).padStart(2, '0');
    img.src = `${prefix}-${num}.png`;
    viewer.appendChild(img);
  }
}
</script>

</body>
</html>